@startuml mcp-inspector-interface
!include ../../config/_standard-style.puml

title MCP Inspector Main Interface - Connected State

rectangle "MCP Inspector Dashboard" as dashboard {
  rectangle "Header Bar" as header {
    [Connection Status: ‚úÖ Connected] <<core>> as status
    [Server: weather_server.py] <<api>> as server_name
    [Disconnect Button] <<util>> as disconnect
  }
  
  rectangle "Navigation Tabs" as tabs {
    [Tools Tab] <<core>> as tools_tab
    [Resources Tab] <<storage>> as resources_tab
    [Prompts Tab] <<util>> as prompts_tab
    [Sampling Tab] <<api>> as sampling_tab
    [Roots Tab] <<infra>> as roots_tab
  }
  
  rectangle "Tools Panel" as tools_panel {
    rectangle "Tool List" as tool_list {
      [üå§Ô∏è get_weather] <<api>> as get_weather
      [üìä get_forecast] <<api>> as get_forecast  
      [üìà analyze_data] <<api>> as analyze_data
    }
    
    rectangle "Tool Execution Area" as exec_area {
      rectangle "Parameter Form" as params {
        [location: Input Field] <<util>> as location_input
        [days: Number Field] <<util>> as days_input
        [format: Dropdown] <<util>> as format_input
      }
      [Execute Button] <<core>> as execute_btn
      
      rectangle "Response Area" as response {
        [JSON Response Display] <<storage>> as json_display
        [Error Messages] <<util>> as error_display
        [Request/Response Log] <<infra>> as request_log
      }
    }
  }
  
  rectangle "Resources Panel" as resources_panel {
    rectangle "Resource List" as resource_list {
      [üìÑ file://weather_data.json] <<storage>> as file_resource
      [üåê https://api.weather.com/stations] <<external>> as web_resource
    }
    
    rectangle "Resource Actions" as resource_actions {
      [üìñ Read Button] <<core>> as read_btn
      [üîÑ Subscribe Button] <<core>> as subscribe_btn
      [Resource Content Viewer] <<storage>> as content_viewer
    }
  }
  
  rectangle "Prompts Panel" as prompts_panel {
    rectangle "Prompt Templates" as prompt_list {
      [üìã weather_analysis] <<util>> as weather_prompt
      [üìù forecast_summary] <<util>> as forecast_prompt
    }
    
    rectangle "Prompt Testing" as prompt_testing {
      rectangle "Template Variables" as template_vars {
        [location: Input] <<util>> as prompt_location
        [days: Input] <<util>> as prompt_days
        [format: Input] <<util>> as prompt_format
      }
      [Preview Button] <<core>> as preview_btn
      [Generated Prompt Display] <<storage>> as prompt_display
    }
  }
}

rectangle "Communication Layer" as comm {
  [JSON-RPC Protocol] <<infra>> as jsonrpc
  [Request Queue] <<util>> as queue
  [Response Handler] <<core>> as handler
}

' Tab switching flow
tools_tab SYNC_LINE tools_panel : Show Tools
resources_tab SYNC_LINE resources_panel : Show Resources
prompts_tab SYNC_LINE prompts_panel : Show Prompts

' Tool execution flow
get_weather SYNC_LINE params : Configure Parameters
params SYNC_LINE execute_btn : Ready to Execute
execute_btn SYNC_LINE comm : Send Request
comm SYNC_LINE response : Display Response

' Resource interaction
file_resource SYNC_LINE read_btn : Read Resource
web_resource SYNC_LINE subscribe_btn : Subscribe to Updates
read_btn SYNC_LINE content_viewer : Display Content

' Prompt testing flow
weather_prompt SYNC_LINE template_vars : Fill Variables
template_vars SYNC_LINE preview_btn : Generate Preview
preview_btn SYNC_LINE prompt_display : Show Result

' Communication layer
jsonrpc SYNC_LINE queue : Queue Requests
queue SYNC_LINE handler : Process Responses

note right of tools_panel
  **Tool Interface Features:**
  ‚Ä¢ Auto-generated forms from schema
  ‚Ä¢ Real-time parameter validation
  ‚Ä¢ Syntax-highlighted JSON responses
  ‚Ä¢ Request/response history
  ‚Ä¢ Error handling and debugging
end note

note left of resources_panel
  **Resource Features:**
  ‚Ä¢ File system resources
  ‚Ä¢ HTTP/HTTPS endpoints
  ‚Ä¢ Real-time subscriptions
  ‚Ä¢ Content preview
  ‚Ä¢ MIME type detection
end note

note bottom of prompts_panel
  **Prompt Features:**
  ‚Ä¢ Template variable substitution
  ‚Ä¢ Live preview generation
  ‚Ä¢ Copy to clipboard
  ‚Ä¢ Template validation
end note

@enduml